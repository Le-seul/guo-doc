
var survey4 = {
    "title": "测一测你的易怒程度",
    "introduce": "愤怒是一种复杂的本能，在我们婴儿时期就已经通过哭和手足舞动表现出来。虽然愤怒是我们正常情绪的一种，甚至有的时候可以有建设性的作用，但是这种强烈的情绪如果不加以控制，会给我们的人际交往、生活和工作带来破坏性的负面影响。",
    "notice": "请仔细阅读下列情形，选择与自己感受到的愤怒程度最相近的选项",
    "lists": [{
        question: "你打开了刚买的一件设备，插上电，却发现它根本就不工作。",
        choose: ["几乎不生气 ", "有一点点生气", "有些生气", "相当生气", "极为愤怒 "]
    }, {
        question: "你被一名修理人员敲诈，他要挟你。",
        choose: ["几乎不生气 ", "有一点点生气", "有些生气", "相当生气", "极为愤怒 "]
    }, {
        question: "你和其他人都犯了错误，可别人侥幸逃过，上司单单把你拎出来批评。",
        choose: ["几乎不生气 ", "有一点点生气", "有些生气", "相当生气", "极为愤怒 "]
    }, {
        question: "你的车陷进了泥潭或者雪窝里。",
        choose: ["几乎不生气 ", "有一点点生气", "有些生气", "相当生气", "极为愤怒 "]
    }, {
        question: "你正在和某人说话，而对方却不理睬你。",
        choose: ["几乎不生气 ", "有一点点生气", "有些生气", "相当生气", "极为愤怒 "]
    }, {
        question: "有人谎称他们有某种东西，而事实上他们却没有。",
        choose: ["几乎不生气 ", "有一点点生气", "有些生气", "相当生气", "极为愤怒 "]
    }, {
        question: "在咖啡店，你正费力的把四杯咖啡往自己的桌子前端时，有人撞到了你，咖啡溅了出来。",
        choose: ["几乎不生气 ", "有一点点生气", "有些生气", "相当生气", "极为愤怒 "]
    }, {
        question: "你已经把衣服挂好了，但是却有人把它们碰到了地上，而且没有把它们捡起来。",
        choose: ["几乎不生气 ", "有一点点生气", "有些生气", "相当生气", "极为愤怒 "]
    }, {
        question: "从你进商店的那一刻起，售货员就一直缠着向你推销某个产品。",
        choose: ["几乎不生气 ", "有一点点生气", "有些生气", "相当生气", "极为愤怒 "]
    }, {
        question: "你已经约好和某人一起去某地，但是这人却在最后一刻爽约了，把你一个人晾在那里。",
        choose: ["几乎不生气 ", "有一点点生气", "有些生气", "相当生气", "极为愤怒 "]
    }, {
        question: "被人开玩笑或被人奚落。",
        choose: ["几乎不生气 ", "有一点点生气", "有些生气", "相当生气", "极为愤怒 "]
    }, {
        question: "红灯了，你的车停下来，而后面的家伙却不停的冲你按喇叭。",
        choose: ["几乎不生气 ", "有一点点生气", "有些生气", "相当生气", "极为愤怒 "]
    }, {
        question: "你在停车场不小心转错了弯儿，刚一下车，就有人朝你吼：”你到底会不会开车？”",
        choose: ["几乎不生气 ", "有一点点生气", "有些生气", "相当生气", "极为愤怒 "]
    }, {
        question: "有人犯了错，却拿这件错事责备你。",
        choose: ["几乎不生气 ", "有一点点生气", "有些生气", "相当生气", "极为愤怒 "]
    }, {
        question: "你正想集中精力，但是你周围的人却在用脚打拍子。",
        choose: ["几乎不生气 ", "有一点点生气", "有些生气", "相当生气", "极为愤怒 "]
    }, {
        question: "你把某本重要的书或某个重要的工具借给某人，他们却不还给你。",
        choose: ["几乎不生气 ", "有一点点生气", "有些生气", "相当生气", "极为愤怒 "]
    }, {
        question: "你忙了一整天，但是和你在一起住的人却开始埋怨你，说你把答应Ta的事给忘了。",
        choose: ["几乎不生气 ", "有一点点生气", "有些生气", "相当生气", "极为愤怒 "]
    }, {
        question: "你想和你的同伴或同事讨论某个重要的事情，但是他却不给你机会表达你的感受。",
        choose: ["几乎不生气 ", "有一点点生气", "有些生气", "相当生气", "极为愤怒 "]
    }, {
        question: "有个人对某个问题本来知之甚少，可Ta还要固执地和你争论个没完。",
        choose: ["几乎不生气 ", "有一点点生气", "有些生气", "相当生气", "极为愤怒 "]
    }, {
        question: "当你和某个人进行讨论时，另外一个人却坚持要进来插话。",
        choose: ["几乎不生气 ", "有一点点生气", "有些生气", "相当生气", "极为愤怒 "]
    }, {
        question: "你需要赶快到某个地方去，但是你面前的汽车却在60公里∕小时的区域里以40公里∕小时的速度往前开，而且你还不能超车。",
        choose: ["几乎不生气 ", "有一点点生气", "有些生气", "相当生气", "极为愤怒 "]
    }, {
        question: "踩到一块嚼过的口香糖上。",
        choose: ["几乎不生气 ", "有一点点生气", "有些生气", "相当生气", "极为愤怒 "]
    }, {
        question: "经过一小群人身边时，听到他们在嘲笑你。",
        choose: ["几乎不生气 ", "有一点点生气", "有些生气", "相当生气", "极为愤怒 "]
    }, {
        question: "匆匆忙忙要去某个地方，结果你的一条很好的裤子／裙子被一个锋利的东西划破了。",
        choose: ["几乎不生气 ", "有一点点生气", "有些生气", "相当生气", "极为愤怒 "]
    }, {
        question: "你用身上的最后一枚硬币打电话，可是还没拨完后就断线了，而硬币也没有了。",
        choose: ["几乎不生气 ", "有一点点生气", "有些生气", "相当生气", "极为愤怒 "]
    }]
};
//var lists=survey1.lists;

// var lists = [{
//     question: '',
//     choose: ['完全没有', '几天', '一半以上的天数', '', 'dstg']
// a: '完全没有',
// b: '几天',
// c: '一半以上的天数',
// d: '几乎每天',
// e: 'hjj',
//     // f: 'gvfjsidko '
// }, {
//     question: '总是担心某件事，停止不下来',
//     length: 4,
//     choose: ['完全没有', '几天', '一半以上的天数', '几乎每天', ]


// }, {
//     question: '对所有的事情都感到非常担心',
//     choose: ['完全没有', '几天', '一半以上的天数', '几乎每天']
// }, {
//     question: '觉得很紧张，很难放松下来',
//     choose: ['完全没有', '几天', '一半以上的天数', '几乎每天']

// }, {
//     question: '感觉非常烦躁，坐立难安',
//     choose: ['完全没有', '几天', '一半以上的天数', '几乎每天']

// }];




var survey = new Vue({
    el: ".con",
    data: {
        message: [],
        notice: survey4.notice,
        lists: survey4.lists,
        title: survey4.title,
        introduce: survey4.introduce,
        cover: '',
        result: [],

    },
    methods: {
        skip: function () {
            var this_active = mySwiper.activeIndex;
            setTimeout(function () {
                mySwiper.slideTo(this_active + 1, 700);
            }, 500);
        },

        getResult: function () {
            console.log($(this).attr('type'));
        },
    },
    mounted: function () {
        var mySwiper = new Swiper('.swiper-container', {
            pagination: { //分页  
                el: '.swiper-pagination', //添加分页  
                type: 'progressbar', //进度条指示器   

            },
            navigation: { //上一题
                nextEl: '.swiper-button-next',
                prevEl: '.pre',
            },
            on: {
                init: function (swiper) { //Swiper初始化
                    var total = document.querySelectorAll('.swiper-slide').length;
                    $(".swiper-num .active").text(1);
                    $(".swiper-num .total").text(total);
                },
                slideChange: function () {
                    var active = mySwiper.activeIndex;
                    $(".swiper-num .active").text(active + 1);
                    var total = document.querySelectorAll('.swiper-slide').length;
                    $(".swiper-num .total").text(total);
                },
                slidesPerView: 1,
                paginationClickable: true,
                spaceBetween: 30,
                loop: false,
                onReachEnd: function (swiper) {
                    $("#t2").hide();
                    $("#t3").show();
                }
            }
        });

    }
});


// swiper
var mySwiper = new Swiper('.swiper-container', {
    pagination: { //分页  
        el: '.swiper-pagination', //添加分页  
        type: 'progressbar', //进度条指示器   

    },
    navigation: { //上一题
        nextEl: '.swiper-button-next',
        prevEl: '.pre',
    },
    on: {
        init: function (swiper) { //Swiper初始化
            var total = document.querySelectorAll('.swiper-slide').length;
            $(".swiper-num .active").text(1);
            $(".swiper-num .total").text(total);
        },
        slideChange: function () {
            var active = mySwiper.activeIndex;
            $(".swiper-num .active").text(active + 1);
            var total = document.querySelectorAll('.swiper-slide').length;
            $(".swiper-num .total").text(total);

            // var chooseLength = survey.lists[i].length;
            // console.log(chooseLength);
            // for (var j = 0; j < survey.lists[i].length ; i++) {
            //     if (survey.lists[i](['a', 'b', 'c', 'd', 'e', 'f'])[j])
            // }
            // $('.choose>div:nth-of-type(n+' + (survey.lists[i].length - 1 )+ ')').hide()
        },
        slidesPerView: 1,
        paginationClickable: true,
        spaceBetween: 30,
        loop: false,
        onReachEnd: function (swiper) {
            $("#t2").hide();
            $("#t3").show();
        }
    }
});


$("#t2,#t3").hide();
$(".startSurvey").on("click", function () {
    $("#t1").hide();
    $("#t2").show();
});
$(".end").hide();
$(".input").on("click", function () {
    if (mySwiper.isEnd) {
        $(".end").show();
    }
});
$(".last .input").on("click", function () {
    $(".end").show();
});
$('.end').click(function () {
    if (mySwiper.isEnd) {
        $("#t2").hide();
        $("#t3").show();
    }
});
$(".back").on("click", function () {
    history.back(-1);
});
// 获取测试选项
// var radio=new Array();
// var i=0;
// radio[i]=$('input:radio:checked').val();
// console.log(radio);
// console.log($('input:radio:checked').val());
// var total = document.querySelectorAll('.swiper-slide').length;
// var results = [];
// for (i = 1; i <= total; i++) {
//     var a = $('input:checked').value;
//     console.log(a)
// };
// var a = $('input:checked').value;
// $("input").click(function () {
//     console.log($('input:checked').attr('type'))
// });
var results = [];
var i = mySwiper.activeIndex;
$(".input").click(function () {
    $(this).siblings().find(".circle").removeClass("sel");
    $(this).find(".circle").addClass("sel");
    var value = $(this).find("input").attr("value");
    var i = mySwiper.activeIndex;
    results[i] = value;
    console.log(results);
});

